{% extends "base.html" %}

{% block content %}

{% load datum_or_none %}

<div>No photo</div>

<h3>{{ bio.name }}</h3>

<div>Positions: </div>
<div>
  Height: {{ bio.height }}
  Weight: {{ bio.weight }}
</div>

<div>
  Born {{ bio.birthdate }}
  {% if bio.birthplace %}
  in {{ bio.birthplace }}
  {% endif %}
</div>

<h3>stats</h3>
<table>
  <tr>
    <th>competition</th>
    <th>season</th>
    <th>team</th>
    <th>gp</th>
    <th>gs</th>
    <th>min</th>
    <th>goals</th>
    <th>assists</th>
    <th>shots</th>
  </tr>

  {% for stat in bio.season_stats %}
  <tr>
    <td><a href="{% url competition_detail stat.competition.slug %}">{{ stat.competition.abbreviation }}</a></td>
    <td><a href="{% url season_detail stat.competition.slug stat.season.slug %}">{{ stat.season.name }}</a></td>
    <td><a href="{% url team_season_detail stat.team.slug stat.season.slug %}">{{ stat.team }}</a></td>
    {% datum_or_grey stat.games_played %}
    {% datum_or_grey stat.games_started %}
    <td>{{ stat.minutes|default_if_none:'' }}</td>
    <td>{{ stat.goals|default_if_none:'' }}</td>
    <td>{{ stat.assists }}</td>
    <td>{{ stat.shots|default_if_none:'' }}</td>
  </tr>
  {% endfor %}

  {% with stat=bio.career_stat %}
  {% if stat %}
  <tr>
    <td>Career</td>
    <td></td>
    <td></td>
    <td>{{ stat.games_played|default_if_none:'' }}</td>
    <td>{{ stat.games_started|default_if_none:'' }}</td>
    <td>{{ stat.minutes|default_if_none:'' }}</td>
    <td>{{ stat.goals }}</td>
    <td>{{ stat.assists }}</td>
    <td>{{ stat.shots|default_if_none:'' }}</td>
  </tr>
  {% endif %}
  {% endwith %}

</table>

{% if bio.goal_set.exists %}
<h3>goals</h3>
<table>
  <tr>
    <th>Date</th>
    <th>Minute</th>
    <th>Team</th>
    <th>Opponent</th>
    <th>Score</th>

  </tr>

  {% for goal in bio.goal_set.all %}
  <tr>
    <td>{{ goal.game.date }}</td>
    <td>{{ goal.minute }}</td>
    <td><a href="{% url team_detail goal.team.slug %}">{{ goal.team }}</a></td>
    <td><a href="{% url team_detail goal.opponent.slug %}">{{ goal.opponent }}</a></td>
    <td><a href="{% url game_detail goal.game.id %}">{{ goal.game.score }}</a></td>
  {% endfor %}
</table>
{% endif %}


{% if bio.appearance_set.exists %}
<h3>appearances</h3>
<table>
  <tr>
    <th>date</th>
    <th>team</th>
    <th>opponent</th>
    <th>score</th>
    <th>on</th>
    <th>off</th>
  <tr>

  {% for appearance in bio.appearance_set.all %}
  <tr>
    <td>{{ appearance.game.date }}</td>
    <td><a href="{% url team_detail appearance.team.slug %}">{{ appearance.team }}</a></td>
    <td><a href="{% url team_detail appearance.opponent.slug %}">{{ appearance.opponent }}</a></td>
    <td><a href="{% url game_detail appearance.game.id %}">{{ appearance.game.score }}</a></td>
    <td>{{ appearance.on }}
    <td>{{ appearance.off }}
  </tr>
  {% endfor %}
</table>
{% endif %}

    

{% endblock %}
