
{% load datum_or_none %}
<table>
  <tr>
    <th></th>
    <th>date</th>
    <th>competition</th>
    <th>home team</th>
    <th>score</th>
    <th>away team</th>
    <th>location</th>
    <th>referee</th>
    <th>attendance</th>
  </tr>

  {% for game in games %}
  <tr>
    <td class="{{ game.color_code }}-bg"></td>
    <td><a href="{% url date_detail game.date.year game.date.month game.date.day %}">{{ game.date }}</a></td>
    <td><a href="{% url competition_detail game.competition.slug %}">{{ game.competition.abbreviation }}</a></td>
    <td><a href="{% url team_detail game.team1.slug %}">{{ game.team1_original_name }}</a></td>
    <td><a href="{% url game_detail game.id %}">{{ game.score }}</a></td>
    <td><a href="{% url team_detail game.team2.slug %}">{{ game.team2_original_name }}</a></td>

    {% if game.stadium %}
    {% if game.stadium.slug %}
    <td><a href="{% url stadium_detail game.stadium.slug %}">{{ game.stadium }}</a></td>
    {% else %}
    <td>{{ game.stadium }}</td>
    {% endif %}
    {% else %}
    <td>{{ game.location }}</td>
    {% endif %}
    
    {% if game.referee %}
    <td><a href="{% url person_detail game.referee.slug %}">{{ game.referee }}</a></td>
    {% else %}
    <td></td>
    {% endif %}
  {% datum_or_grey game.attendance %}
  </tr>
  {% endfor %}
</table>


