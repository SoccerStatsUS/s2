{% extends "base.html" %}

{% load datum_or_none %}

{% block content %}

<h3>{{ city.name }}</h3>

{% if city.state %}
<h4><a href="{% url state_detail city.state.slug %}">{{ city.state.name }}</a></h4>
{% endif %}

{% if city.country %}
<h4>{{ city.country.name }}</h4>
{% endif %}

<ul id="tabs"></ul>

<div id="tab_wrapper">

{% if city.stadium_set.exists %}
<div tab="stadiums">
<table>
<tr>
  <th>name</th>
  <th>opened</th>
  <th>capacity</th>
  <th>cost</th>
  <th>games</th>
  <th>goals</th>
</tr>
{% for stadium in city.stadium_set.all %}
<tr>
  <td><a href="{% url stadium_detail stadium.slug %}">{{ stadium }}</a></td>
  {% if stadium.opened %}
  <td><a href="{% url date_detail stadium.opened.year stadium.opened.month stadium.opened.day %}">{{ stadium.opened }}</a></td>
  {% else %}
  <td></td>
  {% endif %}
  
  {% datum_or_grey stadium.capacity %}
  {% datum_or_grey stadium.cost %}
  <td>{{ stadium.game_set.count }}</td>
  <td>{{ stadium.goal_count }}</td>
</tr>
{% endfor %}
</table>
</div>
{% endif %}

{% if city.birth_set.exists %}
{% include "templatetags/born.html" %} 
{% endif %}

{% if games %}
<div tab="games">
{% include "templatetags/games.html" %}
</div>
{% endif %}

</div>


{% endblock %}
